<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>7 Rules for REST API URI Design | HULEI BLOG - 凡心所向 素履所往 生如逆旅 一苇以航</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="hu lei"><meta name="keywords" content="undefined"><meta name="description" content="胡雷的个人博客是一个关注个人博客建设，WEB前端技术，开源云计算等技术信息博客，提供博主在学习成果和工作中经验总结，是一个互联网从业者值得收藏的网站。"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://dageger.cn/2017/08/18/fe-restapi-7-rules/index.html"><link rel="icon" type="image/png" href="/img/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="胡雷的博客"><link rel="stylesheet" href="/scss/views/page/post.css"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(/img/loader.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="胡雷的博客" alt="胡雷的博客"><img src="/img/logo.png" alt="胡雷的博客"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><header class="post__info"><h1 class="post__title">7 Rules for REST API URI Design</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="https://blog.restcase.com/7-rules-for-rest-api-uri-design/">Guy Levin</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2017-08-18</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/REST-API/">REST API</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-eye"></i><ul class="mark__list clearfix"><li id="busuanzi_container_page_pv" class="mark__item"><span id="busuanzi_value_page_pv"></span>次</li></ul></div></div></header><div class="post__content"><p>Before going over the rules for REST API URI design, let’s do a quick overview on some of the terms we are going to talk about.</p><h2 id="URIs"><a href="#URIs" class="headerlink" title="URIs"></a>URIs</h2><p>REST APIs use Uniform Resource Identifiers (URIs) to address resources. On today’s web, URI designs range from masterpieces that clearly communicate the API’s resource model like:</p><p><a href="http://api.example.com/louvre/leonardo-da-vinci/mona-lisa" target="_blank" rel="external">http://api.example.com/louvre/leonardo-da-vinci/mona-lisa</a><br>to those that are much harder for people to understand, such as:<br><a href="http://api.example.com/68dd0-a9d3-11e0-9f1c-0800200c9a66" target="_blank" rel="external">http://api.example.com/68dd0-a9d3-11e0-9f1c-0800200c9a66</a></p><p>Tim Berners-Lee included a note about the opacity of URIs in his “Axioms of Web Architecture” list:</p><blockquote><p>The only thing you can use an identifier for is to refer to an object. When you are not dereferencing, you should not look at the contents of the URI string to gain other information.<br>- Tim Berners-Lee</p></blockquote><p>Clients must follow the linking paradigm of the Web and treat URIs as opaque identifiers.</p><p>REST API designers should create URIs that convey a REST API’s resource model to its potential client developers. In this post, I will try to introduce a set of design rules for REST API URIs.</p><p>Prior diving to the rules, a word about the URI Format as the rules presented in this section pertain to the format of a URI.<br>RFC 3986 defines the generic URI syntax as shown below:</p><p><strong>URI = scheme “://“ authority “/“ path [ “?” query ] [ “#” fragment ]</strong></p><h2 id="Rule-1-A-trailing-forward-slash-should-not-be-included-in-URIs"><a href="#Rule-1-A-trailing-forward-slash-should-not-be-included-in-URIs" class="headerlink" title="Rule #1: A trailing forward slash (/) should not be included in URIs"></a>Rule #1: A trailing forward slash (/) should not be included in URIs</h2><p>This is one the most important rules to follow as the last character within a URI’s path, a forward slash (/) adds no semantic value and may cause confusion. REST API’s should not expect a trailing slash and should not include them in the links that they provide to clients.</p><p>Many web components and frameworks will treat the following two URIs equally:<br><a href="http://api.canvas.com/shapes/" target="_blank" rel="external">http://api.canvas.com/shapes/</a><br><a href="http://api.canvas.com/shapes" target="_blank" rel="external">http://api.canvas.com/shapes</a></p><h4 id="However-every-character-within-a-URI-counts-toward-a-resource’s-unique-identity"><a href="#However-every-character-within-a-URI-counts-toward-a-resource’s-unique-identity" class="headerlink" title="However, every character within a URI counts toward a resource’s unique identity."></a>However, every character within a URI counts toward a resource’s unique identity.</h4><p>Two different URIs map to two different resources. If the URIs differ, then so do the resources, and vice versa. Therefore, a REST API must generate and communicate clean URIs and should be intolerant of any client’s attempts to identify a resource imprecisely.</p><p>More forgiving APIs may redirect clients to URIs without a trailing forward slash (they may also return the 301 – “Moved Permanently” that is used to relocate resources”).</p><h2 id="Rule-2-Forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship"><a href="#Rule-2-Forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship" class="headerlink" title="Rule #2: Forward slash separator (/) must be used to indicate a hierarchical relationship"></a>Rule #2: Forward slash separator (/) must be used to indicate a hierarchical relationship</h2><p>The forward slash (/) character is used in the path portion of the URI to indicate a hierarchical relationship between resources.</p><p>For example:<br><a href="http://api.canvas.com/shapes/polygons/quadrilaterals/squares" target="_blank" rel="external">http://api.canvas.com/shapes/polygons/quadrilaterals/squares</a></p><h2 id="Rule-3-Hyphens-should-be-used-to-improve-the-readability-of-URIs"><a href="#Rule-3-Hyphens-should-be-used-to-improve-the-readability-of-URIs" class="headerlink" title="Rule #3: Hyphens (-) should be used to improve the readability of URIs"></a>Rule #3: Hyphens (-) should be used to improve the readability of URIs</h2><p>To make your URIs easy for people to scan and interpret, use the hyphen (-) character to improve the readability of names in long path segments. Anywhere you would use a space or hyphen in English, you should use a hyphen in a URI.</p><p>For example:<br><a href="http://api.example.com/blogs/guy-levin/posts/this-is-my-first-post" target="_blank" rel="external">http://api.example.com/blogs/guy-levin/posts/this-is-my-first-post</a></p><h2 id="Rule-4-Underscores-should-not-be-used-in-URIs"><a href="#Rule-4-Underscores-should-not-be-used-in-URIs" class="headerlink" title="Rule #4: Underscores (_) should not be used in URIs"></a>Rule #4: Underscores (_) should not be used in URIs</h2><p>Text viewer applications (browsers, editors, etc.) often underline URIs to provide a visual cue that they are clickable. Depending on the application’s font, the underscore (_) character can either get partially obscured or completely hidden by this underlining.</p><p>To avoid this confusion, use hyphens (-) instead of underscores</p><h2 id="Rule-5-Lowercase-letters-should-be-preferred-in-URI-paths"><a href="#Rule-5-Lowercase-letters-should-be-preferred-in-URI-paths" class="headerlink" title="Rule #5: Lowercase letters should be preferred in URI paths"></a>Rule #5: Lowercase letters should be preferred in URI paths</h2><p>When convenient, lowercase letters are preferred in URI paths since capital letters can sometimes cause problems. RFC 3986 defines URIs as case-sensitive except for the scheme and host components.</p><p>For example:<br><a href="http://api.example.com/my-folder/my-doc" target="_blank" rel="external">http://api.example.com/my-folder/my-doc</a></p><p>HTTP://API.EXAMPLE.COM/my-folder/my-doc<br>This URI is fine. The URI format specification (RFC 3986) considers this URI to be identical to URI #1.</p><p><a href="http://api.example.com/My-Folder/my-doc" target="_blank" rel="external">http://api.example.com/My-Folder/my-doc</a><br>This URI is not the same as URIs 1 and 2, which may cause unnecessary confusion.</p><h2 id="Rule-6-File-extensions-should-not-be-included-in-URIs"><a href="#Rule-6-File-extensions-should-not-be-included-in-URIs" class="headerlink" title="Rule #6: File extensions should not be included in URIs"></a>Rule #6: File extensions should not be included in URIs</h2><p>On the Web, the period (.) character is commonly used to separate the file name and extension portions of a URI.<br>A REST API should not include artificial file extensions in URIs to indicate the format of a message’s entity body. Instead, they should rely on the media type, as communicated through the Content-Type header, to determine how to process the body’s content.</p><p><a href="http://api.college.com/students/3248234/courses/2005/fall.json" target="_blank" rel="external">http://api.college.com/students/3248234/courses/2005/fall.json</a><br><a href="http://api.college.com/students/3248234/courses/2005/fall" target="_blank" rel="external">http://api.college.com/students/3248234/courses/2005/fall</a></p><p>File extensions should not be used to indicate format preference.</p><p>REST API clients should be encouraged to utilize HTTP’s provided format selection mechanism, the Accept request header.</p><p>To enable simple links and easy debugging, a REST API may support media type selection via a query parameter.</p><h2 id="Rule-7-Should-the-endpoint-name-be-singular-or-plural"><a href="#Rule-7-Should-the-endpoint-name-be-singular-or-plural" class="headerlink" title="Rule #7: Should the endpoint name be singular or plural?"></a>Rule #7: Should the endpoint name be singular or plural?</h2><p>The keep-it-simple rule applies here. Although your inner-grammatician will tell you it’s wrong to describe a single instance of a resource using a plural, the pragmatic answer is to keep the URI format consistent and always use a plural.</p><p>Not having to deal with odd pluralization (person/people, goose/geese) makes the life of the API consumer better and is easier for the API provider to implement (as most modern frameworks will natively handle /students and /students/3248234 under a common controller).</p><p>But how do you deal with relations? If a relation can only exist within another resource, RESTful principles provide useful guidance. Let’s look at this with an example. A student has a number of courses. These courses are logically mapped to the /students endpoint as follows:</p><p><a href="http://api.college.com/students/3248234/courses" target="_blank" rel="external">http://api.college.com/students/3248234/courses</a> - Retrieves a list of all courses that are learned by a student with id 3248234.<br><a href="http://api.college.com/students/3248234/courses/physics" target="_blank" rel="external">http://api.college.com/students/3248234/courses/physics</a> - Retrieves course physics for a student with id 3248234.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>When you are designing REST API services, you have to pay attention to resources, those are defined by URIs.</p><p>Each resource in a service or services you are building will have at least one URI identifying it. It’s best when that URI makes sense and adequately describes the resource. URIs should follow a predictable, hierarchical structure to enhance understandability and, therefore, usability: predictable in the sense that they’re consistent, hierarchical in the sense that data has structure—relationships.</p><p>RESTful APIs are written for consumers. The name and structure of URIs should convey meaning to those consumers. By following the above rules, you will create a much cleaner REST APIs with a much happier client. This is not a REST rule or constraint, but it enhances the API.</p><p>I also suggest that you will take a look at <a href="http://blog.restcase.com/5-basic-rest-api-design-guidelines/" target="_blank" rel="external">http://blog.restcase.com/5-basic-rest-api-design-guidelines/</a></p><p>Design for your clients, not for your data.</p><div class="post-announce">感谢您的阅读，本文由 <a href="http://dageger.cn">胡雷的博客</a> 版权所有。如若转载，请注明出处：胡雷的博客（<a href="http://dageger.cn/2017/08/18/fe-restapi-7-rules/">http://dageger.cn/2017/08/18/fe-restapi-7-rules/</a>）</div><div class="post__prevs"><div class="post__prev"></div><div class="post__prev post__prev--right"><a href="/2017/08/21/fe-execution-sequence/" title="JavaScript执行顺序详解">JavaScript执行顺序详解<i class="iconfont icon-next"></i></a></div></div></div></article></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <button><i class="iconfont icon-search" for="submit"></i></button></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">胡雷的个人博客是一个关注个人博客建设，WEB前端技术，开源云计算等技术信息博客，提供博主在学习成果和工作中经验总结，是一个互联网从业者值得收藏的网站。</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/后端/">后端</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/前端/">前端</a><span class="block-list-count">12</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/业界/">业界</a><span class="block-list-count">2</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2018/03/01/fe-web-http/" title="Web性能优化与HTTP/2"><div class="item__cover"><img src="/2018/03/01/fe-web-http/img-cover.jpg" alt="Web性能优化与HTTP/2"></div><div class="item__info"><h3 class="item__title">Web性能优化与HTTP/2</h3><span class="item__text">2018-03-01</span></div></a></li><li class="latest-post-item"><a href="/2017/12/20/fe-callapply/" title="快速理解JS中apply()和call()原理"><div class="item__cover"><img src="/2017/12/20/fe-callapply/cover.jpg" alt="快速理解JS中apply()和call()原理"></div><div class="item__info"><h3 class="item__title">快速理解JS中apply()和call()原理</h3><span class="item__text">2017-12-20</span></div></a></li><li class="latest-post-item"><a href="/2017/12/20/be-django-cms-install/" title="Django CMS教程"><div class="item__cover"><img src="/2017/12/20/be-django-cms-install/cover.png" alt="Django CMS教程"></div><div class="item__info"><h3 class="item__title">Django CMS教程</h3><span class="item__text">2017-12-20</span></div></a></li><li class="latest-post-item"><a href="/2017/12/17/fe-better-scroll/" title="Vue中better-scroll插件的使用"><div class="item__cover"><img src="/2017/12/17/fe-better-scroll/cover.jpg" alt="Vue中better-scroll插件的使用"></div><div class="item__info"><h3 class="item__title">Vue中better-scroll插件的使用</h3><span class="item__text">2017-12-17</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/CSS/">CSS</a></li><li class="tag-item"><a class="tag-link" href="/tags/Django/">Django</a></li><li class="tag-item"><a class="tag-link" href="/tags/HTML/">HTML</a></li><li class="tag-item"><a class="tag-link" href="/tags/JS/">JS</a></li><li class="tag-item"><a class="tag-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-item"><a class="tag-link" href="/tags/REST-API/">REST API</a></li><li class="tag-item"><a class="tag-link" href="/tags/Vue/">Vue</a></li><li class="tag-item"><a class="tag-link" href="/tags/angularjs/">angularjs</a></li><li class="tag-item"><a class="tag-link" href="/tags/http/">http</a></li><li class="tag-item"><a class="tag-link" href="/tags/业界-云计算-互联网/">业界 云计算 互联网</a></li><li class="tag-item"><a class="tag-link" href="/tags/程序员-建议/">程序员 建议</a></li><li class="tag-item"><a class="tag-link" href="/tags/跨域/">跨域</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">本站是基于 Hexo 搭建的静态资源博客，主要用于分享日常学习、生活及工作的一些心得总结，欢迎点击右下角订阅 rss。</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>dageger@163.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="/img/qrcode.jpg" alt="logo" title="胡雷的博客"></div><div class="footer-top__item"><h3 class="item__title">构建工具</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://hexo.io/" title="Blog Framework" target="_blank">Hexo</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, fork by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.</p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/DaGeger/" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="mailto:dageger@163.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li><li class="social-network__item"><a href="http://weibo.com/huleidep" target="_blank" title="weibo"><i class="iconfont icon-weibo"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>